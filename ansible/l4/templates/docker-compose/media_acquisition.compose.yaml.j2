services:

  lidarr:
    image: lscr.io/linuxserver/lidarr:latest
    container_name: lidarr
    restart: unless-stopped
    networks: [media]
    environment:
      - PUID={{ gitops_uid }}
      - PGID={{ gitops_gid }}
      - TZ="{{ gitops_tz }}"
    ports:
      - "8686:8686"
    volumes:
      - {{ lidarr_config_dir }}:/config
      - {{ media_acquisition_mount }}/downloads:/downloads
      - {{ media_acquisition_mount }}/music:/music

  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: radarr
    restart: unless-stopped
    networks: [media]
    environment:
      - PUID={{ gitops_uid }}
      - PGID={{ gitops_gid }}
      - TZ="{{ gitops_tz }}"
    ports:
      - "7878:7878"
    volumes:
      - {{ radarr_config_dir }}:/config
      - {{ media_acquisition_mount }}/downloads:/downloads
      - {{ media_acquisition_mount }}/movies:/movies

  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    container_name: sonarr
    restart: unless-stopped
    networks: [media]
    environment:
      - PUID={{ gitops_uid }}
      - PGID={{ gitops_gid }}
      - TZ="{{ gitops_tz }}"
    ports:
      - "8989:8989"
    volumes:
      - {{ sonarr_config_dir }}:/config
      - {{ media_acquisition_mount }}/downloads:/downloads
      - {{ media_acquisition_mount }}/tv:/tv

  transmission:
    image: lscr.io/linuxserver/transmission:latest
    container_name: transmission
    restart: unless-stopped
    networks: [media]
    environment:
      - PUID={{ gitops_uid }}
      - PGID={{ gitops_gid }}
      - TZ="{{ gitops_tz }}"
    ports:
      - "9091:9091"
    volumes:
      - {{ transmission_config_dir }}:/config
      - {{ transmission_watch_dir }}:/watch
      - {{ media_acquisition_mount }}/downloads:/downloads

  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    restart: unless-stopped
    networks: [media]
    environment:
      - PUID={{ gitops_uid }}
      - PGID={{ gitops_gid }}
      - TZ="{{ gitops_tz }}"
    volumes:
      - {{ prowlarr_config_dir}}:/config
    ports:
      - 9696:9696

networks:
  media: {}
