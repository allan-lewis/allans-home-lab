---
- name: Setting up all Docker container(s)
  hosts: docker_nodes
  become: yes
  gather_facts: false

  tasks:

    - name: Recording passwd information 
      ansible.builtin.getent:
        database: passwd

    - name: Setting user and group facts
      ansible.builtin.set_fact:
        control_uid: "{{ ansible_facts.getent_passwd[control_user].1 | int }}"
        control_gid: "{{ ansible_facts.getent_passwd[control_user].2 | int }}"

- import_playbook: portainer.yml
- import_playbook: syncthing.yml
- import_playbook: mariadb.yml
- import_playbook: npm.yml
- import_playbook: pihole.yml
- import_playbook: guacamole.yml
- import_playbook: kuma.yml
- import_playbook: homer.yml
- import_playbook: nogeeksbrewing.yml
