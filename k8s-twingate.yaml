## AHL
---
- name: Install Twingate.
  hosts: homelab_k8s_twingate_nodes
  become: no
  gather_facts: no
  environment:
    K8S_AUTH_KUBECONFIG: "{{ homelab_k8s_kubeconfig_path }}"
  vars:
    homelab_k8s_helm_repo_name: "{{ homelab_k8s_twingate_helm_repo_name | default('twingate') }}"
    homelab_k8s_helm_repo_url: "{{ homelab_k8s_twingate_helm_repo_url | default('https://twingate.github.io/helm-charts') }}"
    homelab_k8s_namespace: "{{ homelab_k8s_twingate_namespace | default('twingate')}}"
    homelab_k8s_helm_chart_ref: "{{ homelab_k8s_twingate_helm_chart_ref | default('twingate/connector') }}"
    homelab_k8s_helm_chart_version: "{{ homelab_k8s_twingate_helm_chart_version | default(homelab_versions.k8s_twingate) }}"

  roles:
    - role: k8s_twingate
