- name: Ensure that Docker container(s) are up and running
  ansible.builtin.include_role:
    name: container
  vars:
    container: "{{ item }}"
    portainer_data_volume: "{{ docker_volumes_directory }}/portainer"
  with_items: 
    - name: "portainer"
      pretty_name: "Portainer"
      image: "portainer/portainer-ce"
      restart_policy: always
      paths:
        - path: "{{ portainer_data_volume }}"
      ports:
        - "{{ portainer_http_port }}:9000/tcp"
      volumes:
        - "/var/run/docker.sock:/var/run/docker.sock"
        - "{{ portainer_data_volume }}:/data"
