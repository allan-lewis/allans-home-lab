---
- name: Setup outbound VPN
  hosts: vpn_nodes
  become: yes
  gather_facts: false

  roles:
    - vpn

- name: Setup inbound VPN
  hosts: wireguard_nodes
  become: yes
  gather_facts: false

  roles:
    - wireguard

- name: Setup Redis
  hosts: redis_nodes
  become: yes
  gather_facts: false

  roles:
    - role: redis
    
- name: Setup Authelia
  hosts: authelia_nodes
  become: yes
  gather_facts: false

  roles:
    - role: authelia

- name: Setup Guacamole
  hosts: guacamole_nodes
  become: yes
  gather_facts: false

  roles:
    - role: guacamole

- name: Setup MariaDB
  hosts: mariadb_nodes
  become: yes
  gather_facts: false

  roles:
    - role: mariadb

- name: Setup Pi-Hole
  hosts: pihole_nodes
  become: yes
  gather_facts: false

  roles:
    - role: pihole
